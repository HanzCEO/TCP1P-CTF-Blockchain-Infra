(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7620:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eA});var s=r(5155),a=r(2115),n=r(2596),o=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.QP)((0,n.$)(t))}let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:i("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:i("flex flex-col space-y-1.5 p-6",r),...a})});c.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:i("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:i("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:i("p-6 pt-0",r),...a})});u.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:i("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";var m=r(9708),f=r(2085);let h=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:o=!1,...l}=e,c=o?m.DX:"button";return(0,s.jsx)(c,{className:i(h({variant:a,size:n,className:r})),ref:t,...l})});p.displayName="Button";let x=a.forwardRef((e,t)=>{let{className:r,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:i("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});x.displayName="Input";let g=(0,f.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),v=a.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:i(g({variant:a}),r),...n})});v.displayName="Alert",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:i("mb-1 font-medium leading-none tracking-tight",r),...a})}).displayName="AlertTitle";let j=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:i("text-sm [&_p]:leading-relaxed",r),...a})});j.displayName="AlertDescription";var N=r(5863);let y=a.forwardRef((e,t)=>{let{className:r,value:a,...n}=e;return(0,s.jsx)(N.bL,{ref:t,className:i("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...n,children:(0,s.jsx)(N.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});y.displayName=N.bL.displayName;var b=r(4357),w=r(9803),k=r(8749),S=r(2657),C=r(5690),E=r(2431),A=r(7210),T=r(1684),R=r(4416),O=r(2486),I=r(9621),P=r(6474),z=r(5196),_=r(7051),L=r(5339),F=r(646),D=r(9496),M=r(7149),V=r(3052),U=r(9428);let B=M.bL,Y=M.l9;M.YJ,M.ZL,M.Pb,M.z6,a.forwardRef((e,t)=>{let{className:r,inset:a,children:n,...o}=e;return(0,s.jsxs)(M.ZP,{ref:t,className:i("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",r),...o,children:[n,(0,s.jsx)(V.A,{className:"ml-auto"})]})}).displayName=M.ZP.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(M.G5,{ref:t,className:i("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...a})}).displayName=M.G5.displayName;let K=a.forwardRef((e,t)=>{let{className:r,sideOffset:a=4,...n}=e;return(0,s.jsx)(M.ZL,{children:(0,s.jsx)(M.UC,{ref:t,sideOffset:a,className:i("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...n})})});K.displayName=M.UC.displayName;let G=a.forwardRef((e,t)=>{let{className:r,inset:a,...n}=e;return(0,s.jsx)(M.q7,{ref:t,className:i("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",r),...n})});G.displayName=M.q7.displayName,a.forwardRef((e,t)=>{let{className:r,children:a,checked:n,...o}=e;return(0,s.jsxs)(M.H_,{ref:t,className:i("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:n,...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(M.VF,{children:(0,s.jsx)(z.A,{className:"h-4 w-4"})})}),a]})}).displayName=M.H_.displayName,a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(M.hN,{ref:t,className:i("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(M.VF,{children:(0,s.jsx)(U.A,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=M.hN.displayName,a.forwardRef((e,t)=>{let{className:r,inset:a,...n}=e;return(0,s.jsx)(M.JU,{ref:t,className:i("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",r),...n})}).displayName=M.JU.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(M.wv,{ref:t,className:i("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=M.wv.displayName;let J=0,H=new Map,W=e=>{if(H.has(e))return;let t=setTimeout(()=>{H.delete(e),Q({type:"REMOVE_TOAST",toastId:e})},1e6);H.set(e,t)},q=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?W(r):e.toasts.forEach(e=>{W(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},Z=[],X={toasts:[]};function Q(e){X=q(X,e),Z.forEach(e=>{e(X)})}function $(e){let{...t}=e,r=(J=(J+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>Q({type:"DISMISS_TOAST",toastId:r});return Q({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>Q({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function ee(){let[e,t]=a.useState(X);return a.useEffect(()=>(Z.push(t),()=>{let e=Z.indexOf(t);e>-1&&Z.splice(e,1)}),[e]),{...e,toast:$,dismiss:e=>Q({type:"DISMISS_TOAST",toastId:e})}}var et=r(6621);let er=et.Kq,es=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(et.LM,{ref:t,className:i("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...a})});es.displayName=et.LM.displayName;let ea=(0,f.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),en=a.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)(et.bL,{ref:t,className:i(ea({variant:a}),r),...n})});en.displayName=et.bL.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(et.rc,{ref:t,className:i("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...a})}).displayName=et.rc.displayName;let eo=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(et.bm,{ref:t,className:i("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...a,children:(0,s.jsx)(R.A,{className:"h-4 w-4"})})});eo.displayName=et.bm.displayName;let ei=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(et.hE,{ref:t,className:i("text-sm font-semibold",r),...a})});ei.displayName=et.hE.displayName;let el=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(et.VY,{ref:t,className:i("text-sm opacity-90",r),...a})});function ec(){let{toasts:e}=ee();return(0,s.jsxs)(er,{children:[e.map(function(e){let{id:t,title:r,description:a,action:n,...o}=e;return(0,s.jsxs)(en,{...o,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[r&&(0,s.jsx)(ei,{children:r}),a&&(0,s.jsx)(el,{children:a})]}),n,(0,s.jsx)(eo,{})]},t)}),(0,s.jsx)(es,{})]})}el.displayName=et.VY.displayName;var ed=r(9068),eu=r.n(ed),em=r(2098),ef=r(3509),eh=r(1362);function ep(){let{setTheme:e,theme:t}=(0,eh.D)();return(0,s.jsxs)(B,{children:[(0,s.jsx)(Y,{asChild:!0,children:(0,s.jsxs)(p,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",children:[(0,s.jsx)(em.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(ef.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,s.jsxs)(K,{align:"end",children:[(0,s.jsxs)(G,{onClick:()=>e("light"),className:"cursor-pointer",children:[(0,s.jsx)(em.A,{className:"h-4 w-4 mr-2"}),"Light"]}),(0,s.jsxs)(G,{onClick:()=>e("dark"),className:"cursor-pointer",children:[(0,s.jsx)(ef.A,{className:"h-4 w-4 mr-2"}),"Dark"]}),(0,s.jsxs)(G,{onClick:()=>e("system"),className:"cursor-pointer",children:[(0,s.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"System"]})]})]})}var ex=r(9613);let eg=ex.Kq,ev=ex.bL,ej=ex.l9,eN=a.forwardRef((e,t)=>{let{className:r,sideOffset:a=4,...n}=e;return(0,s.jsx)(ex.UC,{ref:t,sideOffset:a,className:i("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...n})});eN.displayName=ex.UC.displayName;let ey=(1n<<1279n)-1n,eb=1n<<1277n;class ew{static fromString(e){let[t,r,s]=e.split(".");if("s"!==t)throw Error("Bad version");let a=ek(r);return new ew(a[0]<<24|a[1]<<16|a[2]<<8|a[3],function(e){let t=Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("");return""===t?0n:BigInt("0x"+t)}(ek(s)))}toString(){let e=new Uint8Array(4);return e[0]=this.d>>24&255,e[1]=this.d>>16&255,e[2]=this.d>>8&255,e[3]=255&this.d,["s",eS(e),eS(eC(this.x))].join(".")}solve(){let e=this.x;for(let t=0;t<this.d;t++)e=1n^eE(e,eb,ey);return"".concat("s",".").concat(eS(eC(e)))}constructor(e,t){this.d=e,this.x=t}}function ek(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}function eS(e){return btoa(Array.from(e).map(e=>String.fromCharCode(e)).join(""))}function eC(e){let t=Math.ceil(1279/8),r=e.toString(16);r.length%2&&(r="0"+r);let s=new Uint8Array(Math.max(r.length/2,t)),a=r.length/2;for(let e=0;e<a;e++)s[s.length-a+e]=Number.parseInt(r.substr(2*e,2),16);return s}function eE(e,t,r){let s=1n;for(e%=r;t>0n;)t%2n===1n&&(s=s*e%r),t>>=1n,e=e*e%r;return s}function eA(){let[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1),[m,f]=(0,a.useState)(!1),[h,g]=(0,a.useState)(""),[N,M]=(0,a.useState)(""),[V,U]=(0,a.useState)({}),[J,H]=(0,a.useState)(0),[W,q]=(0,a.useState)(!1),[Z,X]=(0,a.useState)(null),[Q,$]=(0,a.useState)(""),[et,er]=(0,a.useState)({}),[es,ea]=(0,a.useState)(!0),[en,eo]=(0,a.useState)({}),{toast:ei}=ee();!function(){let[e,t]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{t(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[])}();let el=(0,a.useRef)(null);(0,a.useEffect)(()=>{(async()=>{try{await Promise.all([em(),ed()]);let e=await fetch("/data"),r=await e.json();Object.keys(r).length>0&&!r.error?(U(r),n(!0),t(!0)):r.error&&console.warn("Error fetching initial data:",r.error)}catch(e){console.error("Error during initialization:",e)}})()},[]);let ed=async()=>{try{let e=await fetch("/status",{method:"GET",credentials:"include"});if(!e.ok){let r="Status check failed: ".concat(e.status);try{r=(await e.json()).error||r}catch(e){}return console.warn(r),t(!1),!1}let r=await e.json();return t(r.running),r.running}catch(e){return console.error("Error checking status:",e),t(!1),!1}},em=async()=>{try{let e=await fetch("/challenge",{method:"GET"});if(!e.ok)throw Error("Failed to get challenge. Server returned: "+e.status);let t=await e.json(),r="curl -sSfL https://pwn.red/pow | sh -s ".concat(t.challenge);return M(r),t.challenge}catch(e){return eP("error","Error fetching challenge: ".concat(e instanceof Error?e.message:String(e))),console.error("Error in getChallenge:",e),null}},ef=async()=>{if(!h.trim()){eP("error","Solution cannot be empty");return}if(!m){f(!0);try{let e=await fetch("/solution",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({solution:h})});if(!e.ok){let t={};try{t=await e.json()}catch(e){}let r=(null==t?void 0:t.error)||"Error: ".concat(e.status);throw Error(r)}let t=await e.json();eP("success",t.message||"Solution accepted!"),i(!0),ei({title:"Success!",description:"Solution accepted! You can now launch your instance.",duration:3e3})}catch(e){eP("error","Error submitting solution: ".concat(e instanceof Error?e.message:String(e))),console.error("Error in sendSolution:",e)}finally{f(!1)}}},eh=async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";if(!m){f(!0);try{let s;let a=await fetch("/".concat(e),{method:r,credentials:"include"}),o=a.headers.get("content-type");if(o&&o.includes("application/json"))try{s=await a.json()}catch(t){throw Error("Error parsing ".concat(e," response: ").concat(t instanceof Error?t.message:String(t)))}else{let e=await a.text();s=a.ok?{message:e}:{error:e}}if(!a.ok)throw Error(s.error||"Failed to ".concat(e,". Status: ").concat(a.status));eP("success",s.message||"".concat(e," successful")),"launch"===e?(s&&Object.keys(s).length>0&&!s.error&&(U(s),n(!0)),t(!0),ei({title:"Instance Launched!",description:"Your blockchain instance is now running.",duration:3e3}),setTimeout(()=>ed(),1e3)):"kill"===e?(t(!1),ei({title:"Instance Terminated!",description:"Your blockchain instance has been shut down.",duration:3e3}),U({}),n(!1),setTimeout(()=>ed(),1e3)):"flag"===e&&s.flag&&ex(s.flag)}catch(t){t instanceof TypeError&&"Failed to fetch"===t.message?eP("error","Network error - please check your connection"):eP("error","Error with ".concat(e,": ").concat(t instanceof Error?t.message:String(t))),console.error("Error in ".concat(e,":"),t)}finally{f(!1)}}},ex=e=>{if(!e){eP("error","No flag received or flag is empty.");return}ei({title:"\uD83D\uDEA9 Flag Found!",description:(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("div",{className:"p-3 bg-background border rounded my-2 font-mono text-sm break-all",children:e}),(0,s.jsxs)(p,{size:"sm",className:"mt-2 minimal-button",onClick:()=>{try{ek(e),ei({title:"Copied!",description:"Flag copied to clipboard.",duration:2e3})}catch(e){ei({title:"Error!",description:"Failed to copy flag: "+(e instanceof Error?e.message:"Unknown error"),duration:3e3})}},children:[(0,s.jsx)(b.A,{className:"mr-2 h-4 w-4"})," Copy Flag"]})]}),duration:1e4})},ek=e=>{if(!e||"string"!=typeof e||0===e.trim().length)throw Error("Invalid text to copy");let t=eu()(e);if(!t)throw Error("Failed to copy text to clipboard");return t},eA=e=>{let t,r;if(!V||0===Object.keys(V).length){eP("error","No credentials available to copy.");return}let s=["RPC_URL","PRIVKEY","SETUP_CONTRACT_ADDR","WALLET_ADDR"],a=[];if(Object.keys(V).forEach(e=>{if("message"===e||"error"===e)return;let t=V[e];if(!t||"object"!=typeof t)return;let r=Object.keys(t)[0],s=Object.values(t)[0];if(void 0===r||void 0===s)return;let n=s.toString().replace(/\{ORIGIN\}/g,window.location.origin);a.push({entryKey:r,entryValue:n})}),0===a.length){eP("error","No valid credentials to copy.");return}switch(a.sort((e,t)=>{let r=s.indexOf(e.entryKey),a=s.indexOf(t.entryKey);return -1===r&&(r=Number.POSITIVE_INFINITY),-1===a&&(a=Number.POSITIVE_INFINITY),r-a}),e){case"js":r="JavaScript",t=a.map(e=>"const ".concat(e.entryKey,' = "').concat(e.entryValue,'";')).join("\n");break;case"python":r="Python",t=a.map(e=>"".concat(e.entryKey,' = "').concat(e.entryValue,'"')).join("\n");break;case"rust":r="Rust",t=a.map(e=>"let ".concat(e.entryKey,': &str = "').concat(e.entryValue,'";')).join("\n");break;default:r="generic",t=a.map(e=>"".concat(e.entryKey,' = "').concat(e.entryValue,'"')).join("\n")}try{ek(t),eP("success","Credentials copied as ".concat(r," format!")),er(e=>({...e,credentials:!0})),setTimeout(()=>er(e=>({...e,credentials:!1})),2e3)}catch(e){eP("error","Failed to copy credentials: ".concat(e instanceof Error?e.message:"Unknown error"))}},eT=()=>{if(!N)return eP("error","No challenge to solve."),null;let e=N.match(/curl -sSfL https:\/\/pwn\.red\/pow \| sh -s (s\.[^.]+\.[^.]+)/);return e&&e[1]?e[1]:(eP("error","Could not extract challenge from command."),null)},eR=e=>{try{return ew.fromString(e)}catch(e){return eP("error","Error parsing challenge: ".concat(e instanceof Error?e.message:String(e))),console.error("Parse error details:",e),null}},eO=async e=>{H(5),await new Promise(e=>setTimeout(e,50));try{let t=null,r=Math.min(50,e.d),s=90/r,a=0,n=()=>{a++;let e=5+a*s;H(e)};return t=await new Promise(t=>{let s=e.x,a=0;setTimeout(function o(){let i=Date.now(),l=Math.max(1,Math.floor(e.d/r));for(;a<e.d;)if(s=1n^eE(s,eb,ey),++a%l==0&&n(),Date.now()-i>16){setTimeout(o,0);return}let c="".concat("s",".").concat(eS(eC(s)));t(c)},0)}),H(100),await new Promise(e=>setTimeout(e,100)),t}catch(e){throw console.error("Error in POW calculation:",e),Error("Failed to calculate proof-of-work: ".concat(e instanceof Error?e.message:String(e)))}},eI=async()=>{if("function"!=typeof BigInt){eP("error","Your browser doesn't support BigInt. Please use a modern browser.");return}if(m||W)return;let e=eT();if(!e)return;let t=eR(e);if(t){q(!0),H(0);try{g("");let e=await eO(t);g(e),H(100),eP("success","Solution found! Click Submit to continue."),ei({title:"Solution Found!",description:"Click Submit to continue.",duration:3e3})}catch(e){eP("error","Error solving challenge: ".concat(e instanceof Error?e.message:String(e))),console.error("Solver error:",e)}finally{setTimeout(()=>{q(!1),H(0)},1e3)}}},eP=(e,t)=>{X(e),$(t),el.current&&clearTimeout(el.current),el.current=setTimeout(()=>{X(null),$("")},5e3)};(0,a.useEffect)(()=>()=>{el.current&&clearTimeout(el.current)},[]);let ez=e=>{eo({...en,[e]:!en[e]})},e_=(e,t)=>e.length<=t?e:e.substring(0,t)+"...";return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8 fade-in",children:[(0,s.jsx)("h1",{className:"text-2xl font-medium",children:"Blockchain Launcher"}),(0,s.jsx)(ep,{})]}),(0,s.jsxs)("div",{className:"mb-6 p-3 bg-background border rounded-lg flex items-center justify-between fade-in",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"status-indicator ".concat(e?"status-active":"status-inactive")}),(0,s.jsx)("span",{className:"text-sm font-medium",children:e?"Instance Running":"No Instance Running"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(p,{variant:"outline",size:"sm",className:"minimal-button",onClick:()=>{if(!o&&!window.confirm("You haven't submitted a solution. Launch anyway?")){eP("error","Please submit a solution before launching.");return}eh("launch","POST")},disabled:m,children:[(0,s.jsx)(C.A,{className:"h-4 w-4 mr-1"})," Launch"]}),(0,s.jsxs)(p,{variant:"outline",size:"sm",className:"minimal-button",onClick:()=>{if(!e&&!window.confirm("No instance appears to be running. Attempt to terminate anyway?")){eP("error","No instance is currently running to terminate.");return}eh("kill","POST")},disabled:m,children:[(0,s.jsx)(E.A,{className:"h-4 w-4 mr-1"})," Stop"]}),(0,s.jsxs)(p,{variant:"outline",size:"sm",className:"minimal-button",onClick:()=>{if(!e&&!window.confirm("No instance appears to be running. Attempt to get flag anyway?")){eP("error","No instance is currently running to get a flag from.");return}eh("flag","GET")},disabled:m,children:[(0,s.jsx)(A.A,{className:"h-4 w-4 mr-1"})," Flag"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-6 h-[500px]",children:[(0,s.jsxs)(l,{className:"minimal-card border shadow-sm flex-1",children:[(0,s.jsx)(c,{className:"pb-2",children:(0,s.jsxs)(d,{className:"text-lg flex items-center",children:[(0,s.jsx)(T.A,{className:"mr-2 h-5 w-5"})," Solution"]})}),(0,s.jsx)(u,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x,{value:h,onChange:e=>g(e.target.value),placeholder:"Enter your solution here",className:"font-mono pr-10 minimal-input"}),h&&(0,s.jsx)(p,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7",onClick:()=>g(""),children:(0,s.jsx)(R.A,{className:"h-4 w-4 text-muted-foreground hover:text-foreground transition-colors"})})]})}),(0,s.jsx)(p,{onClick:ef,disabled:m,className:"w-full minimal-button",children:m?(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(O.A,{className:"mr-2 h-4 w-4"})," Submit Solution"]})})]})})]}),(0,s.jsxs)(l,{className:"minimal-card border shadow-sm flex-1",children:[(0,s.jsx)(c,{className:"pb-2",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)(d,{className:"text-lg flex items-center",children:[(0,s.jsx)(I.A,{className:"mr-2 h-5 w-5"})," Challenge"]}),(0,s.jsx)(p,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>ea(!es),children:(0,s.jsx)(P.A,{className:"h-4 w-4 transition-transform duration-200 ".concat(es?"rotate-180":"")})})]})}),es&&(0,s.jsxs)(u,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"bg-muted p-3 rounded-md font-mono text-sm overflow-x-auto custom-scrollbar-x terminal-text",children:N}),(0,s.jsx)(p,{size:"sm",variant:"ghost",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",onClick:()=>{if(!N){eP("error","No challenge command to copy.");return}try{ek(N),er(e=>({...e,challenge:!0})),setTimeout(()=>er(e=>({...e,challenge:!1})),2e3)}catch(e){eP("error","Failed to copy challenge: "+(e instanceof Error?e.message:"Unknown error"))}},children:et.challenge?(0,s.jsx)(z.A,{className:"h-4 w-4"}):(0,s.jsx)(b.A,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p,{className:"w-full minimal-button",onClick:eI,disabled:W,children:W?(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Solving..."]}):(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(_.A,{className:"mr-2 h-4 w-4"})," Solve in Browser"]})}),W&&(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(y,{value:J,className:"h-1.5",indicatorClassName:"bg-primary progress-bar-animated"}),(0,s.jsx)("p",{className:"text-xs text-center text-muted-foreground",children:J<100?"Processing: ".concat(Math.round(J),"%"):"Complete!"})]})]})]})]}),Z&&(0,s.jsx)(v,{variant:"error"===Z?"destructive":"default",className:"slide-up",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:["error"===Z?(0,s.jsx)(L.A,{className:"h-4 w-4 mr-2"}):(0,s.jsx)(F.A,{className:"h-4 w-4 mr-2"}),(0,s.jsx)(j,{children:Q})]}),(0,s.jsx)(p,{variant:"ghost",size:"icon",className:"h-6 w-6 -mr-2",onClick:()=>{X(null),$("")},children:(0,s.jsx)(R.A,{className:"h-3 w-3"})})]})})]}),(0,s.jsx)("div",{className:"h-[500px]",children:(0,s.jsxs)(l,{className:"h-full minimal-card border shadow-sm",children:[(0,s.jsx)(c,{className:"pb-2",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)(d,{className:"text-lg flex items-center",children:[(0,s.jsx)(w.A,{className:"mr-2 h-5 w-5"})," Credentials"]}),r&&(0,s.jsxs)(B,{children:[(0,s.jsx)(Y,{asChild:!0,children:(0,s.jsxs)(p,{variant:"outline",size:"sm",className:"minimal-button",children:[et.credentials?(0,s.jsx)(D.A,{className:"mr-2 h-4 w-4"}):(0,s.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Copy as"]})}),(0,s.jsxs)(K,{align:"end",className:"slide-up",children:[(0,s.jsxs)(G,{onClick:e=>{e.preventDefault(),e.stopPropagation(),eA("js")},className:"cursor-pointer",children:[(0,s.jsx)("span",{className:"mr-2 text-yellow-500",children:"JS"})," JavaScript"]}),(0,s.jsxs)(G,{onClick:e=>{e.preventDefault(),e.stopPropagation(),eA("python")},className:"cursor-pointer",children:[(0,s.jsx)("span",{className:"mr-2 text-blue-500",children:"PY"})," Python"]}),(0,s.jsxs)(G,{onClick:e=>{e.preventDefault(),e.stopPropagation(),eA("rust")},className:"cursor-pointer",children:[(0,s.jsx)("span",{className:"mr-2 text-orange-500",children:"RS"})," Rust"]})]})]})]})}),(0,s.jsx)(u,{className:"h-[calc(100%-60px)] overflow-y-auto thin-scrollbar",children:(()=>{if(!V||0===Object.keys(V).length)return(0,s.jsxs)("div",{className:"text-center py-12 text-muted-foreground flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"rounded-full bg-muted p-3 mb-4",children:(0,s.jsx)(w.A,{className:"h-6 w-6 text-muted-foreground/60"})}),(0,s.jsx)("p",{children:"No credentials to display."}),(0,s.jsx)("p",{className:"text-sm mt-2",children:"Launch an instance to see credentials here."})]});let e=[];return(Object.keys(V).forEach(t=>{if("message"===t||"error"===t)return;let r=V[t];if(!r||"object"!=typeof r)return;let s=Object.keys(r)[0],a=Object.values(r)[0];if(void 0===s||void 0===a)return;let n=a.toString().replace(/\{ORIGIN\}/g,window.location.origin);e.push({key:t,name:s,value:n})}),0===e.length)?(0,s.jsxs)("div",{className:"text-center py-12 text-muted-foreground flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"rounded-full bg-muted p-3 mb-4",children:(0,s.jsx)(w.A,{className:"h-6 w-6 text-muted-foreground/60"})}),(0,s.jsx)("p",{children:"No credentials to display."}),(0,s.jsx)("p",{className:"text-sm mt-2",children:"Launch an instance to see credentials here."})]}):(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,s.jsxs)("div",{className:"bg-muted/30 rounded-lg p-3 hover:bg-muted/50 transition-colors duration-200",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsx)("div",{className:"font-medium text-primary",children:e.name}),(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)(eg,{children:(0,s.jsxs)(ev,{children:[(0,s.jsx)(ej,{asChild:!0,children:(0,s.jsx)(p,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>ez(e.key),children:en[e.key]?(0,s.jsx)(k.A,{className:"h-3.5 w-3.5 text-muted-foreground"}):(0,s.jsx)(S.A,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),(0,s.jsx)(eN,{side:"top",children:en[e.key]?"Collapse":"Expand"})]})}),(0,s.jsx)(eg,{children:(0,s.jsxs)(ev,{children:[(0,s.jsx)(ej,{asChild:!0,children:(0,s.jsx)(p,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>{try{ek(e.value),ei({title:"Copied!",description:"".concat(e.name," copied to clipboard."),duration:2e3})}catch(t){ei({title:"Error!",description:"Failed to copy ".concat(e.name,": ")+(t instanceof Error?t.message:"Unknown error"),duration:3e3})}},children:(0,s.jsx)(b.A,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),(0,s.jsx)(eN,{side:"top",children:"Copy to clipboard"})]})})]})]}),(0,s.jsx)("div",{className:"font-mono text-xs bg-background/50 p-2 rounded border border-border/50",children:en[e.key]?(0,s.jsx)("div",{className:"break-all",children:e.value}):(0,s.jsx)(eg,{children:(0,s.jsxs)(ev,{children:[(0,s.jsx)(ej,{asChild:!0,children:(0,s.jsx)("div",{className:"truncate cursor-help",children:e_(e.value,40)})}),(0,s.jsx)(eN,{side:"bottom",className:"max-w-sm",children:(0,s.jsx)("p",{className:"break-all font-mono text-xs",children:e.value})})]})})})]},e.key))})})()})]})})]}),(0,s.jsx)("footer",{className:"mt-8 pt-4 border-t text-center text-sm text-muted-foreground",children:(0,s.jsxs)("p",{className:"flex items-center justify-center",children:[(0,s.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 mr-2 text-primary",fill:"currentColor",children:(0,s.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),(0,s.jsx)("a",{href:"https://github.com/TCP1P/TCP1P-CTF-Blockchain-Infra",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline ml-1 transition-colors duration-200",children:"TCP1P-CTF-Blockchain-Infra"})]})}),(0,s.jsx)(ec,{})]})}},7631:(e,t,r)=>{Promise.resolve().then(r.bind(r,7620))}},e=>{var t=t=>e(e.s=t);e.O(0,[615,441,684,358],()=>t(7631)),_N_E=e.O()}]);